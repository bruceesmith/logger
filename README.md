[![Go Reference][goreference_badge]][goreference_link]
[![Go Report Card][goreportcard_badge]][goreportcard_link]
 
<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# logger

```go
import "github.com/bruceesmith/logger"
```

Package logger supports logging and tracing based on the standard library package [log/slog](<https://pkg.go.dev/log/slog/>).

Debug, Error, Info and Warn operate like their package slog equivalents, with the level of logging modifiable using SetLevel.

A custom logging level \(LevelTrace\) can be supplied to SetLevel to enable tracing. Tracing can be unconditional when calling Trace, or only enabled for pre\-defined identifiers when calling TraceID. Identifiers for TraceID are registered by calling SetTraceIDs.

By default, all debug, error, info and warn messages go to Stdout, and traces go to Stderr; these destinations can be changed by calling RedirectNormal and RedirectTrace respectively.

A number of settings can be changed for one or both of the normal \(non\-trace\) and trace loggers by calling [Configure](<#Configure>) \- the format of log records, their destination, and whether each record contains a timestamp.

When used in [cli applications](<https://github.com/urfave/cli>), a cli.Flag representing a LogLevel can be provided using the LogLevelFlag type.

## Index

- [Constants](<#constants>)
- [func Configure\(setting ...ConfigSetting\) error](<#Configure>)
- [func Debug\(msg string, args ...any\)](<#Debug>)
- [func Error\(msg string, args ...any\)](<#Error>)
- [func Info\(msg string, args ...any\)](<#Info>)
- [func Level\(\) string](<#Level>)
- [func RedirectStandard\(w io.Writer\)](<#RedirectStandard>)
- [func RedirectTrace\(w io.Writer\)](<#RedirectTrace>)
- [func SetFormat\(f Format\)](<#SetFormat>)
- [func SetLevel\(l slog.Level\)](<#SetLevel>)
- [func SetTraceIds\(ids ...string\)](<#SetTraceIds>)
- [func Trace\(msg string, args ...any\)](<#Trace>)
- [func TraceID\(id string, msg string, args ...any\)](<#TraceID>)
- [func TraceIDs\(\) \[\]string](<#TraceIDs>)
- [func Warn\(msg string, args ...any\)](<#Warn>)
- [type ConfigSetting](<#ConfigSetting>)
- [type Format](<#Format>)
- [type LogID](<#LogID>)
  - [func \(i LogID\) String\(\) string](<#LogID.String>)
- [type LogLevel](<#LogLevel>)
  - [func \(ll \*LogLevel\) Set\(ls string\) \(err error\)](<#LogLevel.Set>)
  - [func \(ll \*LogLevel\) String\(\) \(s string\)](<#LogLevel.String>)
  - [func \(ll \*LogLevel\) Type\(\) string](<#LogLevel.Type>)
  - [func \(ll \*LogLevel\) UnmarshalJSON\(jason \[\]byte\) \(err error\)](<#LogLevel.UnmarshalJSON>)
- [type LogLevelFlag](<#LogLevelFlag>)
- [type SettingKey](<#SettingKey>)
  - [func \(i SettingKey\) String\(\) string](<#SettingKey.String>)
- [type Traces](<#Traces>)
  - [func \(t \*Traces\) Set\(ts string\) \(err error\)](<#Traces.Set>)
  - [func \(t \*Traces\) String\(\) \(s string\)](<#Traces.String>)
  - [func \(t \*Traces\) Type\(\) string](<#Traces.Type>)


## Constants

<a name="LevelTrace"></a>

```go
const (
    // LevelTrace can be set to enable tracing
    LevelTrace slog.Level = -10
)
```

<a name="Configure"></a>
## func Configure

```go
func Configure(setting ...ConfigSetting) error
```

Configure sets or changes attributes of either the normal or trace loggers

<a name="Debug"></a>
## func Debug

```go
func Debug(msg string, args ...any)
```

Debug emits a debug log

<a name="Error"></a>
## func Error

```go
func Error(msg string, args ...any)
```

Error emits an error log

<a name="Info"></a>
## func Info

```go
func Info(msg string, args ...any)
```

Info emits an info log

<a name="Level"></a>
## func Level

```go
func Level() string
```

Level returns the current logging level as a string

<a name="RedirectStandard"></a>
## func RedirectStandard

```go
func RedirectStandard(w io.Writer)
```

RedirectStandard changes the destination for normal \(non\-trace\) logsDestinationSetting argument

Deprecated: RedirectStandard\(\) should be replaced by a call to Configure\(\) with a DestinationSetting argument

<a name="RedirectTrace"></a>
## func RedirectTrace

```go
func RedirectTrace(w io.Writer)
```

RedirectTrace changes the destination for normal \(non\-trace\) logs

Deprecated: RedirectTrace\(\) should be replaced by a call to Configure\(\) with a DestinationSetting argument

<a name="SetFormat"></a>
## func SetFormat

```go
func SetFormat(f Format)
```

SetFormat changes the format of log entries

Deprecated: SetFormat\(\) should be replaced by calls to Configure\(\) with a FormatSetting argument. An advantage of Configure\(\) is that the format of the standard logger can be configured differently to that of the Trace logger

<a name="SetLevel"></a>
## func SetLevel

```go
func SetLevel(l slog.Level)
```

SetLevel sets the default level of logging

<a name="SetTraceIds"></a>
## func SetTraceIds

```go
func SetTraceIds(ids ...string)
```

SetTraceIds registers identifiers for future tracing

<a name="Trace"></a>
## func Trace

```go
func Trace(msg string, args ...any)
```

Trace emits one JSON\-formatted log entry if trace level logging is enabled

<a name="TraceID"></a>
## func TraceID

```go
func TraceID(id string, msg string, args ...any)
```

TraceID emits one JSON\-formatted log entry if tracing is enabled for the requested ID

<a name="TraceIDs"></a>
## func TraceIDs

```go
func TraceIDs() []string
```

TraceIDs returns the list of enabled trace IDs

<a name="Warn"></a>
## func Warn

```go
func Warn(msg string, args ...any)
```

Warn emits a warning log

<a name="ConfigSetting"></a>
## type ConfigSetting

ConfigSetting is an argument to Configure\(\)

```go
type ConfigSetting struct {
    AppliesTo LogID      // Logger whose setting is set/changed
    Key       SettingKey // Attribute of the logger that is srt/changed
    Value     any        // New value for this attribute
}
```

<a name="Format"></a>
## type Format

Format determines the format of each log entry

```go
type Format string
```

<a name="Text"></a>

```go
const (
    Text Format = "text" // Text format logs
    JSON Format = "json" // JSON format logs
)
```

<a name="LogID"></a>
## type LogID

LogID defines the identifier of a logger

```go
type LogID int
```

<a name="Norm"></a>

```go
const (
    Norm  LogID = iota // The normal logger
    Tracy              // The trace logger
)
```

<a name="LogID.String"></a>
### func \(LogID\) String

```go
func (i LogID) String() string
```



<a name="LogLevel"></a>
## type LogLevel

LogLevel is the level of logging

```go
type LogLevel int
```

<a name="LogLevel.Set"></a>
### func \(\*LogLevel\) Set

```go
func (ll *LogLevel) Set(ls string) (err error)
```

Set is a convenience method for pflag.Value

<a name="LogLevel.String"></a>
### func \(\*LogLevel\) String

```go
func (ll *LogLevel) String() (s string)
```

String is a convenience method for pflag.Value

<a name="LogLevel.Type"></a>
### func \(\*LogLevel\) Type

```go
func (ll *LogLevel) Type() string
```

Type is a conveniene method for pflag.Value

<a name="LogLevel.UnmarshalJSON"></a>
### func \(\*LogLevel\) UnmarshalJSON

```go
func (ll *LogLevel) UnmarshalJSON(jason []byte) (err error)
```

UnmarshalJSON is a convenience method for Kong

<a name="LogLevelFlag"></a>
## type LogLevelFlag

LogLevelFlag is useful for using a LogLevel as a command\-line flag in CLI applications

```go
type LogLevelFlag = cli.FlagBase[LogLevel, cli.NoConfig, logLevelValue]
```

<a name="SettingKey"></a>
## type SettingKey

SettingKey defines a logger setting that can be set or changed via the Configure function

```go
type SettingKey int
```

<a name="DestinationSetting"></a>

```go
const (
    DestinationSetting SettingKey = iota // Output writer / destination for a logger
    FormatSetting                        // Format of log entries
    OmitTimeSetting                      // Whether a timestamp is included in log entries
)
```

<a name="SettingKey.String"></a>
### func \(SettingKey\) String

```go
func (i SettingKey) String() string
```



<a name="Traces"></a>
## type Traces

Traces is the list of trace IDs enabled

```go
type Traces []string
```

<a name="Traces.Set"></a>
### func \(\*Traces\) Set

```go
func (t *Traces) Set(ts string) (err error)
```

Set is a convenience method for pflag.Value

<a name="Traces.String"></a>
### func \(\*Traces\) String

```go
func (t *Traces) String() (s string)
```

String is a convenience method for pflag.Value

<a name="Traces.Type"></a>
### func \(\*Traces\) Type

```go
func (t *Traces) Type() string
```

Type is a conveniene method for pflag.Value

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
 
[goreference_badge]: https://pkg.go.dev/badge/github.com/bruceesmith/logger/v3.svg
[goreference_link]: https://pkg.go.dev/github.com/bruceesmith/logger
[goreportcard_badge]: https://goreportcard.com/badge/github.com/bruceesmith/logger
[goreportcard_link]: https://goreportcard.com/report/github.com/bruceesmith/logger
